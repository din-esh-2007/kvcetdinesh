<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Burnout Guardian - Real-Time Stability Dashboard</title>
    <meta name="description"
        content="Real-Time Autonomous Human Stability Control System - Monitor burnout risk and receive intelligent interventions">
    <link rel="stylesheet" href="styles.css">
    <script src="i18n.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
</head>

<body class="theme-premium">
    <!-- Login Overlay -->
    <div id="login-overlay" class="login-overlay active">
        <div class="login-card">
            <div class="logo">
                <span class="logo-icon">üß†</span>
                <h1 data-t="login.title">Burnout Guardian</h1>
            </div>
            <p data-t="login.subtitle">Predictive Human Stability Control System</p>
            <div class="checkin-content" style="margin-top: 2rem;">
                <input type="text" id="login-username" class="btn-secondary full-width" data-t="login.username"
                    placeholder="Username / Employee ID">
                <input type="password" id="login-password" class="btn-secondary full-width" data-t="login.password"
                    placeholder="Security Key">
                <button class="btn-primary full-width" onclick="handleLogin()" data-t="login.button">Authorize
                    Access</button>
                <div id="login-error" data-t="login.error"
                    style="color: var(--error); font-size: 0.8rem; text-align: center; margin-top: 10px; display: none;">
                </div>
            </div>
        </div>
    </div>

    <!-- Main Dashboard -->
    <main class="dashboard">
        <!-- Sidebar -->
        <aside class="sidebar collapsed" id="mainSidebar" onmouseenter="expandSidebar()"
            onmouseleave="collapseSidebar()">
            <div class="sidebar-header">
                <div class="logo-container">
                    <svg class="logo-svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                        xmlns="http://www.w3.org/2000/svg">
                        <path d="M12 2L2 22H22L12 2Z" fill="#ff3b5c" />
                    </svg>
                    <span class="logo-text" id="branding-text">Guardian</span>
                </div>
            </div>

            <nav class="nav-menu">
                <div class="nav-item active" data-view="dashboard" title="Dashboard">
                    <i data-lucide="layout-grid" class="nav-icon"></i>
                    <span class="nav-label">Dashboard</span>
                </div>
                <div class="nav-item" data-view="forecast" title="Forecast">
                    <i data-lucide="trending-up" class="nav-icon"></i>
                    <span class="nav-label">Forecast</span>
                </div>
                <div class="nav-item" data-view="interventions" title="Interventions">
                    <i data-lucide="shield-check" class="nav-icon"></i>
                    <span class="nav-label">Interventions</span>
                </div>
                <div class="nav-item" data-view="employees" title="Employee Directory">
                    <i data-lucide="users" class="nav-icon"></i>
                    <span class="nav-label">Employees</span>
                </div>
                <div class="nav-item" data-view="managers" title="Manager Directory">
                    <i data-lucide="user-cog" class="nav-icon"></i>
                    <span class="nav-label">Managers</span>
                </div>
                <div class="nav-item" data-view="admin" title="Admin Control">
                    <i data-lucide="lock" class="nav-icon"></i>
                    <span class="nav-label">Admin Control</span>
                </div>
                <div class="nav-item" data-view="emotion" title="Emotion Tracker">
                    <i data-lucide="smile" class="nav-icon"></i>
                    <span class="nav-label">Emotion Tracker</span>
                </div>
                <div class="nav-item" data-view="reports" title="System Reports">
                    <i data-lucide="file-bar-chart" class="nav-icon"></i>
                    <span class="nav-label">Reports</span>
                </div>
                <div class="nav-item" data-view="checkin" title="Daily Check-In">
                    <i data-lucide="clipboard-check" class="nav-icon"></i>
                    <span class="nav-label">Daily Check-In</span>
                </div>
                <div class="nav-item" data-view="settings" title="Settings">
                    <i data-lucide="settings" class="nav-icon"></i>
                    <span class="nav-label">Settings</span>
                </div>
            </nav>

            <div class="sidebar-bottom">
                <div class="support-item">
                    <i data-lucide="help-circle" class="nav-icon"></i>
                    <span class="nav-label">Support</span>
                    <i data-lucide="chevron-right" class="arrow-icon"></i>
                </div>
                <div class="version-info">
                    <p>Guardian &reg; 2026</p>
                    <p>v. 1.002</p>
                </div>
                <div class="nav-item logout-item" onclick="handleLogout()"
                    style="margin-top: 1rem; background: linear-gradient(135deg, rgba(239,68,68,0.1), rgba(239,68,68,0.2)); border: 1px solid #ef4444; box-shadow: 0 0 15px rgba(239,68,68,0.2);">
                    <i data-lucide="log-out" class="nav-icon" style="color: #f87171;"></i>
                    <span class="nav-label" style="color: #ffffff; font-weight: 700;">Secure Exit (Logout)</span>
                </div>
            </div>
        </aside>

        <!-- Content Area -->
        <div class="content">
            <!-- Admin View -->
            <!-- Admin View -->
            <div id="view-admin" class="view-section">
                <div class="view-header" style="margin-bottom: 2rem;">
                    <h1 data-t="roles.admin">Administrator</h1>
                    <p>System User Management & Autonomous Oversight</p>
                </div>

                <!-- System Overview -->
                <div class="stats-grid" style="grid-template-columns: repeat(4, 1fr); margin-bottom: 2rem;">
                    <div class="stat-card">
                        <p class="stat-label">Total Human Assets</p>
                        <h2 class="stat-value" id="total-assets">0</h2>
                        <div class="stat-trend neutral">ACTIVE Monitoring</div>
                    </div>
                    <div class="stat-card">
                        <p class="stat-label">High Risk Alerts (24h)</p>
                        <h2 class="stat-value" id="high-risk-alerts" style="color: var(--error);">0</h2>
                        <div class="stat-trend error">AI DETECTION</div>
                    </div>
                    <div class="stat-card">
                        <p class="stat-label">Autonomous Interventions</p>
                        <h2 class="stat-value" id="autonomous-interventions" style="color: var(--accent-cyan);">0</h2>
                        <div class="stat-trend success">ACTIVE PROTECTION</div>
                    </div>
                    <div class="stat-card">
                        <p class="stat-label">Org Stability Index</p>
                        <h2 class="stat-value" id="org-stability">0.0</h2>
                        <div class="stat-trend neutral">BASELINE AVG</div>
                    </div>
                </div>

                <!-- Admin Action Panel -->
                <div id="admin-actions" class="data-grid" style="margin-bottom: 2rem;">
                    <div class="chart-card action-card" onclick="showUserForm('Manager')">
                        <div class="action-icon">‚ûï</div>
                        <h3 data-t="admin.add_manager">Add Manager</h3>
                        <p>Create a new administrative manager profile with full authority.</p>
                    </div>
                    <div class="chart-card action-card" onclick="showUserForm('Employee')">
                        <div class="action-icon">üë§</div>
                        <h3 data-t="admin.add_employee">Add Employee</h3>
                        <p>Onboard a new employee to the human stability monitoring system.</p>
                    </div>
                </div>
                <div
                    style="margin-top: auto; padding-top: 2rem; border-top: 1px solid var(--border); text-align: center;">
                    <button class="btn-secondary" style="color: var(--error); border-color: rgba(239, 68, 68, 0.2);"
                        onclick="handleLogout()">
                        <i data-lucide="log-out" style="width: 14px; height: 14px; margin-right: 8px;"></i>
                        Secure Session Termination (Logout)
                    </button>
                    <p style="margin-top: 1rem; color: var(--text-muted); font-size: 0.75rem;">Platform V1.002 |
                        Autonomous Security Enabled</p>
                </div>
            </div>

            <!-- Manager View -->
            <div id="view-manager" class="view-section">
                <div class="view-header"
                    style="margin-bottom: 2rem; display: flex; justify-content: space-between; align-items: center;">
                    <div>
                        <h1 data-t="roles.manager">Manager Operations</h1>
                        <p>Team Stability Oversight & Tactical Delegation</p>
                    </div>
                    <div class="header-badges" style="display: flex; gap: 1rem;">
                        <div class="badge status-ok">Team: <span id="mgr-team-count">0</span> Assets</div>
                        <div class="badge warning">At Risk: <span id="mgr-at-risk-count">0</span></div>
                    </div>
                </div>

                <div class="stats-grid" style="grid-template-columns: repeat(3, 1fr); margin-bottom: 2rem;">
                    <div class="stat-card">
                        <p class="stat-label">Avg Team Stability</p>
                        <h2 class="stat-value" id="mgr-team-stability">0.0</h2>
                        <div class="stat-trend success">OPTIMAL RANGE</div>
                    </div>
                    <div class="stat-card">
                        <p class="stat-label">Active Deployments</p>
                        <h2 class="stat-value" id="mgr-active-tasks">0</h2>
                        <div class="stat-trend neutral">TASK LOAD</div>
                    </div>
                    <div class="stat-card">
                        <p class="stat-label">Predicted Burnout (Week)</p>
                        <h2 class="stat-value" id="mgr-predicted-risk" style="color: var(--warning);">12%</h2>
                        <div class="stat-trend warning">ML FORECAST</div>
                    </div>
                </div>

                <div class="data-grid" style="grid-template-columns: 1.5fr 1fr; gap: 2rem;">
                    <div class="chart-card">
                        <div class="chart-header">
                            <h2 data-t="manager.delegation">Strategic Task Deployment</h2>
                        </div>
                        <div class="checkin-content">
                            <div class="form-grid" style="grid-template-columns: 1fr 1fr; margin-bottom: 1rem;">
                                <div class="form-group" style="grid-column: span 2;">
                                    <label>Task Objective</label>
                                    <input type="text" id="task-title" class="btn-secondary full-width"
                                        placeholder="Critical System Maintenance">
                                </div>
                                <div class="form-group">
                                    <label>Estimated Effort (Hrs)</label>
                                    <input type="number" id="task-hours" class="btn-secondary full-width"
                                        placeholder="8.5">
                                </div>
                                <div class="form-group">
                                    <label>Critical Deadline</label>
                                    <input type="date" id="task-deadline" class="btn-secondary full-width">
                                </div>
                                <div class="form-group">
                                    <label>Target Human Asset</label>
                                    <select id="task-assignee" class="btn-secondary full-width">
                                        <option value="">Select Resource...</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label>Task Priority</label>
                                    <select id="task-priority" class="btn-secondary full-width">
                                        <option value="Low">Low (Optimization)</option>
                                        <option value="Medium" selected>Medium (Standard)</option>
                                        <option value="High">High (Critical)</option>
                                    </select>
                                </div>
                            </div>
                            <button class="btn-primary full-width" onclick="deployTeamTask()">Deploy Mission
                                Control</button>
                        </div>
                    </div>

                    <div class="chart-card">
                        <div class="chart-header">
                            <h2>Live Team Activity</h2>
                            <span class="badge info">Real-Time</span>
                        </div>
                        <div class="checkin-content" id="team-activity-log"
                            style="max-height: 400px; overflow-y: auto;">
                            <!-- Populated by JS -->
                            <p style="text-align: center; color: var(--text-muted); padding: 2rem;">No recent human data
                                points...</p>
                        </div>
                    </div>
                </div>

                <div class="data-grid" style="margin-top: 2rem; grid-template-columns: 1fr 1.5fr;">
                    <div class="chart-card">
                        <div class="chart-header">
                            <h2 data-t="manager.heatmap">Workload Intensity Heatmap</h2>
                        </div>
                        <div class="chart-container" style="height: 300px;">
                            <canvas id="burnoutHeatmap"></canvas>
                        </div>
                    </div>
                    <div class="chart-card">
                        <div class="chart-header">
                            <h2>Human Resource Mapping & Monitoring</h2>
                        </div>
                        <div class="checkin-content">
                            <div class="assets-grid" id="mgr-team-list"
                                style="grid-template-columns: 1fr; gap: 1rem; max-height: 500px; overflow-y: auto; padding-right: 10px;">
                                <!-- Detailed team profiles populated by JS -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Reports View -->
            <div id="view-reports" class="view-section">
                <div class="chart-card">
                    <div class="chart-header">
                        <h2>Analytics Reports</h2>
                    </div>
                    <div class="log-content">
                        <div class="log-item">
                            <div class="log-icon">üìä</div>
                            <div class="log-details">
                                <h4>Weekly Stability Report</h4>
                                <p>Generated for Feb 07 - Feb 13</p>
                            </div>
                            <button class="btn-small">Download</button>
                        </div>
                        <div class="log-item">
                            <div class="log-icon">üìà</div>
                            <div class="log-details">
                                <h4>Intervention Effectiveness</h4>
                                <p>Quarterly analysis report</p>
                            </div>
                            <button class="btn-small">Download</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Dashboard View -->
            <div id="view-dashboard" class="view-section active">
                <section class="hero-stats">
                    <div class="stat-card">
                        <div class="stat-icon stability">üõ°Ô∏è</div>
                        <div class="stat-content">
                            <h3>Stability Index</h3>
                            <div class="stat-value" id="stabilityValue">0.72</div>
                            <div class="stat-change positive">+0.05 from yesterday</div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon risk">‚ö†Ô∏è</div>
                        <div class="stat-content">
                            <h3>Risk Probability</h3>
                            <div class="stat-value" id="riskValue">34%</div>
                            <div class="stat-change negative">+8% from yesterday</div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon volatility">üìâ</div>
                        <div class="stat-content">
                            <h3>Volatility</h3>
                            <div class="stat-value" id="volatilityValue">0.28</div>
                            <div class="stat-change neutral">No change</div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon interventions">üéØ</div>
                        <div class="stat-content">
                            <h3 data-t="stats.active_interventions">Active Interventions</h3>
                            <div class="stat-value" id="interventionCount">2</div>
                            <div class="stat-change positive" data-t="stats.helping_recovery">Helping you recover</div>
                        </div>
                    </div>
                </section>

                <section class="charts-grid">
                    <div class="chart-card full-width">
                        <div class="chart-header">
                            <h2 data-t="stats.stability_timeline">Stability Timeline</h2>
                            <div class="chart-controls">
                                <button class="btn-small active" data-range="7d">7D</button>
                                <button class="btn-small" data-range="30d">30D</button>
                            </div>
                        </div>
                        <div class="chart-container">
                            <canvas id="stabilityChart"></canvas>
                        </div>
                    </div>
                </section>
            </div>

            <!-- Forecast View -->
            <div id="view-forecast" class="view-section">
                <section class="hero-stats">
                    <div class="stat-card">
                        <div class="stat-icon stability">üìÖ</div>
                        <div class="stat-content">
                            <h3>Next Peak Risk</h3>
                            <div class="stat-value">Feb 18</div>
                            <div class="stat-change negative">Critical Threshold</div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon risk">üõ°Ô∏è</div>
                        <div class="stat-content">
                            <h3>Confidence Score</h3>
                            <div class="stat-value">92%</div>
                            <div class="stat-change positive">High Precision</div>
                        </div>
                    </div>
                </section>
                <section class="charts-grid">
                    <div class="chart-card full-width">
                        <div class="chart-header">
                            <h2>7-Day Predictive Flux</h2>
                            <span class="badge warning">Moderate Transition Risk</span>
                        </div>
                        <div class="chart-container">
                            <canvas id="forecastChart"></canvas>
                        </div>
                    </div>
                </section>
            </div>

            <!-- Interventions View -->
            <div id="view-interventions" class="view-section">
                <div class="data-grid">
                    <div class="log-card">
                        <div class="log-header">
                            <h2>Active Stability Measures</h2>
                        </div>
                        <div class="log-content" id="interventionLog">
                            <!-- Populated by JavaScript -->
                        </div>
                    </div>
                    <div class="chart-card">
                        <div class="chart-header">
                            <h2>Intervention Impact</h2>
                        </div>
                        <div class="checkin-content">
                            <div class="checkin-metric">
                                <label>Workload Reduction</label>
                                <span class="badge success">-15% Stress</span>
                            </div>
                            <div class="checkin-metric">
                                <label>Recovery Efficiency</label>
                                <span class="badge info">+22% Stability</span>
                            </div>
                            <div class="checkin-metric">
                                <label>Focus Restoration</label>
                                <span class="badge positive">+1.2 hrs Focus</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Daily Check-In View -->
            <div id="view-checkin" class="view-section">
                <div class="data-grid">
                    <div class="checkin-card">
                        <div class="checkin-header">
                            <h2>Daily Check-In</h2>
                        </div>
                        <div class="checkin-content">
                            <div class="checkin-metric">
                                <label>Sleep Quality (0-12 hrs)</label>
                                <input type="range" min="0" max="12" step="0.5" value="7.5" class="full-width">
                            </div>
                            <div class="checkin-metric">
                                <label>Emotional State (1-10)</label>
                                <input type="range" min="1" max="10" step="1" value="7" class="full-width">
                            </div>
                            <div class="checkin-metric">
                                <label>Professional Workload (1-10)</label>
                                <input type="range" min="1" max="10" step="1" value="5" class="full-width">
                            </div>
                            <button class="btn-primary full-width">Submit Data Point</button>
                        </div>
                    </div>
                    <div class="chart-card">
                        <div class="chart-header">
                            <h2>Self-Reported Trends</h2>
                        </div>
                        <div class="checkin-content">
                            <p style="color: var(--text-secondary); font-size: 0.9rem;">Consistent data entry improves
                                AI forecasting accuracy by 35%.</p>
                            <div class="stat-change positive">‚úì 5 Day Streak Active</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Emotion Tracker View -->
            <div id="view-emotion" class="view-section">
                <section class="charts-grid">
                    <div class="chart-card full-width">
                        <div class="chart-header">
                            <h2>Computer Vision Emotion Stream</h2>
                            <span class="badge info">Real-Time Analysis</span>
                        </div>
                        <div class="emotion-content">
                            <div class="chart-container">
                                <canvas id="emotionChart"></canvas>
                            </div>
                        </div>
                    </div>
                </section>
            </div>

            <!-- Employees View -->
            <div id="view-employees" class="view-section">
                <div class="view-header"
                    style="margin-bottom: 2rem; display: flex; justify-content: space-between; align-items: center;">
                    <div>
                        <h1>Employee Assets</h1>
                        <p>Global Directory of Monitored Human Resources</p>
                    </div>
                    <div class="header-actions">
                        <input type="text" id="employeeSearch" class="btn-secondary" placeholder="Search Employee..."
                            style="width: 250px;">
                    </div>
                </div>
                <div class="assets-grid" id="employeesListGrid">
                    <!-- Employee Cards Dynamic -->
                </div>
            </div>

            <!-- Managers View -->
            <div id="view-managers" class="view-section">
                <div class="view-header"
                    style="margin-bottom: 2rem; display: flex; justify-content: space-between; align-items: center;">
                    <div>
                        <h1>Operational Managers</h1>
                        <p>Supervisory Human Control Nodes</p>
                    </div>
                    <div class="header-actions">
                        <input type="text" id="managerSearch" class="btn-secondary" placeholder="Search Manager..."
                            style="width: 250px;">
                    </div>
                </div>
                <div class="assets-grid" id="managersListGrid">
                    <!-- Manager Cards Dynamic -->
                </div>
            </div>

            <!-- Suspension Modal (Reusable) -->
            <div id="suspension-modal" class="login-overlay">
                <div class="login-card" style="max-width: 500px; text-align: left;">
                    <h2 style="margin-bottom: 1rem;">Suspend Human Asset</h2>
                    <div class="form-grid">
                        <div class="form-group" style="grid-column: span 2;">
                            <label>Asset ID</label>
                            <input type="text" id="suspend-user-id" class="btn-secondary full-width" readonly>
                        </div>
                        <div style="display: flex; gap: 10px; grid-column: span 2;">
                            <div class="form-group" style="flex: 1;">
                                <label>Start Date</label>
                                <input type="date" id="suspend-start" class="btn-secondary full-width">
                            </div>
                            <div class="form-group" style="flex: 1;">
                                <label>End Date</label>
                                <input type="date" id="suspend-end" class="btn-secondary full-width">
                            </div>
                        </div>
                        <div class="form-group" style="grid-column: span 2;">
                            <label>Reason for Suspension</label>
                            <textarea id="suspend-reason" class="btn-secondary full-width"
                                style="height: 80px;"></textarea>
                        </div>
                    </div>
                    <div style="display: flex; gap: 10px; margin-top: 1.5rem;">
                        <button class="btn-primary" style="flex: 1;" onclick="executeSuspension()">Confirm
                            Suspension</button>
                        <button class="btn-secondary" style="flex: 1;" onclick="closeSuspensionModal()">Cancel</button>
                    </div>
                </div>
            </div>

            <!-- Settings View -->
            <div id="view-settings" class="view-section">
                <div class="data-grid">
                    <div class="chart-card">
                        <div class="chart-header">
                            <h2>System Controls</h2>
                        </div>
                        <div class="checkin-content">
                            <div class="checkin-metric settings-stack">
                                <label data-t="settings_view.theme">Interface Theme</label>
                                <div class="theme-switcher">
                                    <button class="btn-small active" onclick="setTheme('premium')">Premium</button>
                                    <button class="btn-small" onclick="setTheme('dark')">Black</button>
                                    <button class="btn-small" onclick="setTheme('light')">White</button>
                                </div>
                            </div>
                            <div class="checkin-metric settings-stack">
                                <label data-t="settings_view.language">Interface Language</label>
                                <select class="btn-secondary full-width" onchange="I18N.setLanguage(this.value)">
                                    <option value="en">English</option>
                                    <option value="ta">Tamil (‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç)</option>
                                    <option value="hi">Hindi (‡§π‡§ø‡§®‡•ç‡§¶‡•Ä)</option>
                                </select>
                            </div>
                            <div class="checkin-metric settings-stack">
                                <label data-t="settings_view.autonomous">Autonomous Decision Engine</label>
                                <input type="checkbox" checked>
                            </div>
                            <div class="checkin-metric settings-stack">
                                <label data-t="settings_view.privacy">Privacy Safeguards</label>
                                <input type="checkbox" checked disabled>
                            </div>
                        </div>
                        <button class="btn-secondary full-width" data-t="settings_view.recalibrate">Recalibrate
                            Volatility Baseline</button>
                        <button class="btn-secondary full-width" style="margin-top: 10px;"
                            data-t="settings_view.reset_emotion">Reset Emotion Baseline</button>
                    </div>
                </div>

                <!-- System Archive Section -->
                <div class="chart-card">
                    <div class="chart-header">
                        <h2>System Archive</h2>
                        <span class="badge info">Data Retention</span>
                    </div>
                    <div class="checkin-content">
                        <div class="checkin-metric">
                            <label>Archive Frequency</label>
                            <select class="btn-secondary" style="padding: 4px 8px; font-size: 0.8rem;">
                                <option>Daily</option>
                                <option selected>Weekly</option>
                                <option>Monthly</option>
                            </select>
                        </div>
                        <div class="checkin-metric">
                            <label>Last Archive</label>
                            <span style="font-size: 0.875rem; color: var(--text-secondary);">Feb 12, 2026</span>
                        </div>
                        <button class="btn-primary full-width" style="margin-top: 10px;">Archive Now</button>
                        <button class="btn-small full-width" style="margin-top: 5px;">Clear Old Data</button>
                    </div>
                </div>

                <!-- Footer Moved Inside Content for No Overlap -->
                <footer class="footer"
                    style="background: var(--bg-card); border-top: 1px solid var(--border); padding: 30px; margin-top: 60px; text-align: center; color: var(--text-muted); font-size: 0.75rem; border-radius: var(--radius-lg); position: relative; z-index: 1;">
                    <p>Burnout Guardian v1.0 | Aligned with UN SDG 3 & SDG 8 | Privacy-First Design</p>
                </footer>
            </div>
        </div>
    </main>


    <!-- Global Footer Removed from here -->
    <!-- User Intelligence Modal (Add/Edit) -->
    <div id="user-modal" class="login-overlay">
        <div class="login-card" style="max-width: 700px; text-align: left; max-height: 90vh; overflow-y: auto;">
            <div class="chart-header" style="margin-bottom: 1.5rem;">
                <h2 id="form-title">Human Asset Intelligence</h2>
                <input type="hidden" id="editing-user-id">
                <button class="btn-small" onclick="hideUserForm()">‚úï</button>
            </div>
            <div class="checkin-content">
                <div class="form-grid">
                    <div class="form-group">
                        <label>Full Name</label>
                        <input type="text" id="user-fullname" class="btn-secondary full-width" placeholder="John Doe">
                    </div>
                    <div class="form-group">
                        <label>Email</label>
                        <input type="email" id="user-email" class="btn-secondary full-width"
                            placeholder="john@example.com">
                    </div>
                    <div class="form-group">
                        <label>Mobile Number</label>
                        <input type="tel" id="user-mobile" class="btn-secondary full-width" placeholder="+91 ...">
                    </div>
                    <div class="form-group">
                        <label>Gender</label>
                        <select id="user-gender" class="btn-secondary full-width">
                            <option value="Male">Male</option>
                            <option value="Female">Female</option>
                            <option value="Other">Other</option>
                        </select>
                    </div>
                    <div class="form-group" style="grid-column: span 2;">
                        <label>Address</label>
                        <textarea id="user-address" class="btn-secondary full-width"
                            placeholder="Full residential address" rows="2"></textarea>
                    </div>
                    <div class="form-group">
                        <label>Date of Birth</label>
                        <input type="date" id="user-dob" class="btn-secondary full-width">
                    </div>
                    <div class="form-group">
                        <label>Department ID</label>
                        <input type="text" id="user-department" class="btn-secondary full-width" placeholder="DEP-01">
                    </div>
                    <div class="form-group">
                        <label>Employment Type</label>
                        <select id="user-employment-type" class="btn-secondary full-width">
                            <option value="Full-Time">Full-Time</option>
                            <option value="Part-Time">Part-Time</option>
                            <option value="Contract">Contract</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Emergency Contact</label>
                        <input type="text" id="user-emergency" class="btn-secondary full-width"
                            placeholder="Name / Phone">
                    </div>
                    <div class="form-group">
                        <label>Joining Date</label>
                        <input type="date" id="user-joining" class="btn-secondary full-width">
                    </div>
                    <div class="form-group">
                        <label>Employee ID</label>
                        <input type="text" id="user-employee-id" class="btn-secondary full-width" placeholder="EMP0001"
                            autocomplete="off" spellcheck="false">
                    </div>
                    <div class="form-group">
                        <label>Username</label>
                        <input type="text" id="user-username" class="btn-secondary full-width" placeholder="jdoe123"
                            autocomplete="off" spellcheck="false">
                    </div>
                    <div class="form-group" style="grid-column: span 2;">
                        <label>Password (Leave as dots if no change)</label>
                        <input type="password" id="user-password" class="btn-secondary full-width" value="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
                    </div>
                </div>
                <div style="display: flex; gap: 10px; margin-top: 1.5rem;">
                    <button id="submit-user-btn" class="btn-primary" style="flex: 2;" onclick="submitUserForm()">Commit
                        Profile</button>
                    <button class="btn-secondary" style="flex: 1;" onclick="hideUserForm()">Cancel</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Email Assignment Modal -->
    <div id="email-modal" class="modal-overlay">
        <div class="modal-content"
            style="max-width: 600px; padding: 0; border: 1px solid var(--border); overflow: hidden;">
            <div
                style="background: var(--bg-card); padding: 20px; border-bottom: 1px solid var(--border); display: flex; align-items: center; gap: 12px;">
                <div
                    style="width: 35px; height: 35px; background: var(--accent-cyan); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: black;">
                    <i data-lucide="mail" style="width: 20px; height: 20px;"></i>
                </div>
                <div>
                    <h2 style="margin: 0; font-size: 1.1rem;">Compose Operational Mission</h2>
                    <p style="margin: 0; font-size: 0.75rem; color: var(--text-muted);">Secure SMTP Dispatch Terminal
                    </p>
                </div>
                <button onclick="closeEmailModal()"
                    style="margin-left: auto; background: none; border: none; color: var(--text-muted); cursor: pointer;">
                    <i data-lucide="x" style="width: 20px; height: 20px;"></i>
                </button>
            </div>

            <div style="padding: 20px; background: rgba(0,0,0,0.2);">
                <div class="form-grid" style="grid-template-columns: 1fr; gap: 15px;">
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
                        <div class="form-group">
                            <label style="font-size: 0.7rem; color: var(--accent-cyan);">SENDER (AUTHORIZED)</label>
                            <input type="text" id="email-from" class="btn-secondary full-width" readonly
                                style="background: rgba(255,255,255,0.02);" value="Management Node (Active)">
                        </div>
                        <div class="form-group">
                            <label style="font-size: 0.7rem; color: var(--accent-cyan);">RECEIVER (TARGET ASSET)</label>
                            <input type="text" id="email-to" class="btn-secondary full-width" readonly
                                style="background: rgba(255,255,255,0.02);">
                        </div>
                    </div>
                    <div class="form-group">
                        <label style="font-size: 0.7rem; color: var(--accent-cyan);">SUBJECT</label>
                        <input type="text" id="email-subject" class="btn-secondary full-width"
                            placeholder="Critical Priority: Operational Intelligence Deployment">
                    </div>

                    <!-- Drag & Drop Zone -->
                    <div class="form-group">
                        <label style="font-size: 0.7rem; color: var(--accent-cyan);">ATTACH OPERATIONAL ASSETS (JPG,
                            PNG, CSV, PDF)</label>
                        <div id="drop-zone"
                            style="border: 2px dashed rgba(0, 212, 255, 0.3); border-radius: 8px; padding: 25px; text-align: center; background: rgba(0, 212, 255, 0.02); transition: all 0.3s; cursor: pointer; position: relative;">
                            <i data-lucide="upload-cloud"
                                style="width: 30px; height: 30px; color: var(--accent-cyan); margin-bottom: 10px;"></i>
                            <p style="font-size: 0.8rem; margin: 0; color: var(--text-secondary);">Drag & Drop assets
                                here or <span style="color: var(--accent-cyan);">click to browse</span></p>
                            <span id="file-name"
                                style="display: block; margin-top: 10px; font-size: 0.75rem; color: var(--accent-cyan); font-weight: 600;"></span>
                            <input type="file" id="email-file" hidden accept=".jpg,.jpeg,.png,.csv,.pdf">
                        </div>
                    </div>

                    <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 10px;">
                        <div class="form-group">
                            <label style="font-size: 0.7rem;">EXPECTED EFFORT (Hrs)</label>
                            <input type="number" id="email-hours" class="btn-secondary full-width" placeholder="8.5">
                        </div>
                        <div class="form-group">
                            <label style="font-size: 0.7rem;">DEADLINE</label>
                            <input type="date" id="email-deadline" class="btn-secondary full-width">
                        </div>
                        <div class="form-group">
                            <label style="font-size: 0.7rem;">PRIORITY</label>
                            <select id="email-priority" class="btn-secondary full-width" style="margin-top: 5px;">
                                <option>Low</option>
                                <option selected>Medium</option>
                                <option>High</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group">
                        <label style="font-size: 0.7rem; color: var(--accent-cyan);">MISSION OBJECTIVES / BODY</label>
                        <textarea id="email-body" class="btn-secondary full-width" rows="4"
                            placeholder="Detailed tactical instructions for the human asset..."
                            style="resize: none;"></textarea>
                    </div>
                </div>
            </div>

            <div
                style="padding: 15px 20px; background: var(--bg-card); border-top: 1px solid var(--border); display: flex; justify-content: flex-end; gap: 12px;">
                <button class="btn-secondary" onclick="closeEmailModal()">Abort</button>
                <button class="btn-primary" onclick="dispatchEmailTask()"
                    style="padding: 10px 25px; display: flex; align-items: center; gap: 10px;">
                    <i data-lucide="send" style="width: 16px;"></i>
                    Dispatch via SMTP
                </button>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>

</html>